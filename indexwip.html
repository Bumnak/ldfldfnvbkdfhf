<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>2026</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap');

    body {
      margin: 0;
      font-family: 'Montserrat', sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      min-height: 100vh;
      background: radial-gradient(circle at top left, #ff9a9e, #fad0c4, #a18cd1);
      overflow-x: hidden;
    }

    .titles-block {
      text-align: center;
      margin-bottom: 40px;
      color: #fff;
      font-size: 2.2rem;
      font-weight: 700;
      z-index: 0;
      position: relative;
      pointer-events: none;
      text-shadow: 2px 2px 8px rgba(0,0,0,0.4);
    }

    .container {
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      max-width: 1200px;
      width: 100%;
      text-align: center;
      background: rgba(255, 255, 255, 0.9);
      border-radius: 32px;
      padding: 60px 40px 40px 40px;
      box-shadow: 0 40px 80px rgba(0,0,0,0.3);
      animation: fadeIn 1s ease;
      position: relative;
      z-index: 1;
    }

    h1 {
      font-size: 3rem;
      color: #333;
      margin-bottom: 16px;
      text-transform: uppercase;
      letter-spacing: 2px;
    }

    p {
      font-size: 1.2rem;
      color: #555;
      margin-bottom: 30px;
    }

    button {
      border: none;
      background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
      color: white;
      padding: 16px 36px;
      border-radius: 50px;
      font-size: 1.2rem;
      cursor: pointer;
      margin: 24px 0;
      box-shadow: 0 12px 30px rgba(0,0,0,0.25);
      transition: all 0.3s ease;
    }

    button:hover {
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 20px 40px rgba(0,0,0,0.35);
    }

    .grid-wrapper {
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      position: relative;
    }

    .grid {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 100px;
      z-index: 1;
    }

    .card {
      width: 238px;
      height: 333px;
      border-radius: 20px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.3);
      cursor: pointer;
      overflow: hidden;
      transition: transform 0.4s ease, box-shadow 0.4s ease;
      background: white;
      z-index: 0;
    }

    .card:hover {
      transform: scale(1.5);
      box-shadow: 0 40px 80px rgba(0,0,0,0.5);
      z-index: 2;
    }

    .card img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
      border-radius: 20px;
    }

    @keyframes fadeIn {
      0% { opacity: 0; transform: translateY(-20px); }
      100% { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>

  <div class="titles-block" id="titlesBlock"></div>
  <div class="container" id="app"></div>

  <script>
    const app = document.getElementById("app");
    const titlesBlock = document.getElementById("titlesBlock");
    let step = 0;
    const choices = [];

    const webhook = "https://discord.com/api/webhooks/1450773884822618255/13JUQZMCZdWGLPn6tz4gOxArs0dVrix1L1lvy5GrBWJd9w6PQNW2jyRycz7HuaZEUQmA";

    const steps = [
      {
        title: "Le choix",
        options: [
          { img: "https://cdn.discordapp.com/attachments/1450836507765112832/1450841111684976781/oui.png?ex=69440094&is=6942af14&hm=0388ff58619f4c99367842f831cc93f3c799df591392d1447708b11b093687a6", value: 'Oui', nextStep: 2 },
          { img: "https://cdn.discordapp.com/attachments/1450836507765112832/1450841124779589683/non.png?ex=69440097&is=6942af17&hm=91574b18e4668ce725a8e06e0304e7bc951e1ce96ba1294254f8536dbea87167", value: 'Non', nextStep: 4 }
        ]
      },
      {
        title: "Le lieu",
        options: [
          { img: "https://picsum.photos/238/333?random=3" },
          { img: "https://picsum.photos/238/333?random=4" },
          { img: "https://picsum.photos/238/333?random=5" },
          { img: "https://picsum.photos/238/333?random=6" }
        ]
      },
      {
        title: "L'activité",
        options: [
          { img: "https://picsum.photos/238/333?random=7" },
          { img: "https://picsum.photos/238/333?random=8" },
          { img: "https://picsum.photos/238/333?random=9" },
          { img: "https://picsum.photos/238/333?random=10" }
        ]
      }
    ];

    function render() {
      if(step >=1 && step <= steps.length){
        titlesBlock.innerHTML = steps[step - 1].title;
      } else if(step === steps.length + 1){
        titlesBlock.innerHTML = 'Récapitulatif du deck';
      } else {
        titlesBlock.innerHTML = '';
      }

      if (step === 0) {
        app.innerHTML = `
          <h1>Une proposition</h1>
          <p>Compose notre rendez-vous en choisissant des cartes.</p>
          <button onclick="next()">Commencer</button>
        `;
        return;
      }

      if (step >= 1 && step <= steps.length) {
        const current = steps[step - 1];
        app.innerHTML = `
          <div class="grid-wrapper">
            <div class="grid">
              ${current.options.map((o, i) => `
                <div class="card" onclick='choose(${step - 1}, ${i})'>
                  <img src="${o.img}" />
                </div>
              `).join('')}
            </div>
          </div>
        `;
        return;
      }

      if (step === steps.length + 1) {
        app.innerHTML = `
          <div class="grid-wrapper">
            <div class="grid">
              ${choices.map(c => `
                <div class="card">
                  <img src="${c.img}" />
                </div>
              `).join('')}
            </div>
          </div>
          <button onclick="send()">Valider</button>
        `;
        return;
      }

      if (step === steps.length + 2) {
        app.innerHTML = `<h2>...</h2>`;
        titlesBlock.innerHTML = '';
      }
    }

    function next() { step++; render(); }

    function choose(stepIndex, optionIndex) {
      const current = steps[stepIndex];
      choices.push(current.options[optionIndex]);
      if(current.options[optionIndex].nextStep !== undefined){
        step = current.options[optionIndex].nextStep;
      } else {
        step++;
      }
      render();
    }

    function send() {
      fetch(webhook, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          content: "Elle a validé",
          embeds: choices.map((c, i) => ({
            title: `Carte ${i + 1}`,
            image: { url: c.img },
            color: 16705372
          }))
        })
      });
      step++;
      render();
    }

    render();
  </script>
</body>
</html>